

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parts Implemented by Mehmet Ali Han Tutuk &mdash; ITUCSDB1928  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Parts Implemented by Muhammed Emin Topuz" href="member2.html" />
    <link rel="prev" title="Developer Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ITUCSDB1928
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#wob-s-database-design">WOB’s Database Design</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Parts Implemented by Mehmet Ali Han Tutuk</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#my-tables-in-database">My Tables in Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#books-table">Books Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#author-table">Author Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#publisher-table">Publisher Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="member2.html">Parts Implemented by Muhammed Emin Topuz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ITUCSDB1928</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Developer Guide</a> &raquo;</li>
        
      <li>Parts Implemented by Mehmet Ali Han Tutuk</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/member1.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parts-implemented-by-mehmet-ali-han-tutuk">
<h1>Parts Implemented by Mehmet Ali Han Tutuk<a class="headerlink" href="#parts-implemented-by-mehmet-ali-han-tutuk" title="Permalink to this headline">¶</a></h1>
<p>On this project I used various important python modules to implement the features and functionality effectively.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">psycopg2</span> <span class="k">as</span> <span class="nn">dbapi2</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span><span class="n">flash</span><span class="p">,</span><span class="n">url_for</span><span class="p">,</span><span class="n">current_app</span><span class="p">,</span><span class="n">request</span>
</pre></div>
</div>
<p>I used bootstrap to create a sketch of html pages.</p>
<div class="highlight-HTML notranslate"><div class="highlight"><pre><span></span>    <span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{title}}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar navbar-default&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container-fluid&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-header&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-brand&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;homepage&#39;) }}&quot;</span><span class="p">&gt;</span>WOB<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav navbar-nav&quot;</span><span class="p">&gt;</span>

                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;active&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;homepage&#39;) }}&quot;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>

                {% if Status!=0 %}
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;profile_page&#39;) }}&quot;</span><span class="p">&gt;</span>Profile <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;sign_in_page&#39;) }}&quot;</span><span class="p">&gt;</span>SignOut <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>

                {% else %}
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;sign_in_page&#39;) }}&quot;</span><span class="p">&gt;</span>SignIn <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;sign_up_page&#39;) }}&quot;</span><span class="p">&gt;</span>SignUp<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                {% endif %}

            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>





    {% block content %}{% endblock %}


<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="my-tables-in-database">
<h2>My Tables in Database<a class="headerlink" href="#my-tables-in-database" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="books-table">
<h2>Books Table<a class="headerlink" href="#books-table" title="Permalink to this headline">¶</a></h2>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">Books</span><span class="p">(</span>
                  <span class="n">BookID</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">,</span>
                  <span class="n">Title</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">PostDate</span>  <span class="nb">DATE</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_DATE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">PageNum</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">PublisherID</span> <span class="nb">INTEGER</span>  <span class="k">REFERENCES</span> <span class="n">Publisher</span> <span class="p">(</span><span class="n">PublisherID</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
                  <span class="n">AuthorID</span> <span class="nb">INTEGER</span>  <span class="k">REFERENCES</span> <span class="n">Author</span> <span class="p">(</span><span class="n">AuthorID</span><span class="p">)</span> <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">,</span>
                  <span class="n">Content</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">BookReview</span> <span class="nb">INTEGER</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span>
                 <span class="p">);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 10%" />
<col style="width: 14%" />
<col style="width: 9%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 23%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BookID</p></th>
<th class="head"><p>Title</p></th>
<th class="head"><p>PostDate</p></th>
<th class="head"><p>PageNum</p></th>
<th class="head"><p>PublisherID</p></th>
<th class="head"><p>AuthorID</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>BookReview</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>OZ</p></td>
<td><p>01/05/2015</p></td>
<td><p>356</p></td>
<td><p>12</p></td>
<td><p>8</p></td>
<td><p>Lorem Ipsum Dolor.</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Fund</p></td>
<td><p>02/07/2010</p></td>
<td><p>455</p></td>
<td><p>10</p></td>
<td><p>12</p></td>
<td><p>Nice Books Ever.</p></td>
<td><p>15</p></td>
</tr>
</tbody>
</table>
<p>I implemented the 4 main database standardization skills on the tables such as Create, Read, Update and Delete.</p>
<p>I showed some book attributes on the homepage and i added some extra useful tools such as search box and added
the see detail button.Additionally, i implemented the session such as add a new book, add  new author and add a
new publisher buttons which are not seen by the user,only admin access these buttons.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Home&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">homepage</span><span class="p">():</span>
    <span class="n">My_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;search&quot;</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;search_book&quot;</span><span class="p">]</span>
            <span class="n">My_list</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;detail&quot;</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Book_name&quot;</span><span class="p">]</span>
            <span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">get_detail_page</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;detail_page&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_book&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;add_book&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_author&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;add_author&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_publisher&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;add_publisher&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">My_list</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">get_home_page</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;home.html&#39;</span><span class="p">,</span><span class="n">Status</span> <span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Home Page&quot;</span><span class="p">,</span><span class="n">titles</span><span class="o">=</span><span class="n">My_list</span><span class="p">,</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">)</span>
</pre></div>
</div>
<p>Read Function in Homepage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_home_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT Books.Title,Books.content,Books.BookReview,Books.PostDate FROM Books,Author,Publisher  WHERE Books.PublisherID=Publisher.PublisherID AND Books.AuthorID=Author.AuthorID ORDER BY Books.BookReview DESC&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">home</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">home</span>
</pre></div>
</div>
<p>Add a new bookpage and backround database code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Add_Book&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">add_book</span><span class="p">():</span>
<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;cancel&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_book&quot;</span><span class="p">:</span>
        <span class="n">title</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">postdate</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;postdate&quot;</span><span class="p">]</span>
        <span class="n">PageNum</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;PageNum&quot;</span><span class="p">]</span>
        <span class="n">content</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
        <span class="n">authorid</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Authorid&quot;</span><span class="p">]</span>
        <span class="n">publisherid</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;Publisherid&quot;</span><span class="p">]</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add_new_book</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">postdate</span><span class="p">,</span> <span class="n">PageNum</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">authorid</span><span class="p">,</span> <span class="n">publisherid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>


<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_book.html&#39;</span><span class="p">,</span> <span class="n">Status</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;New Book Page&quot;</span><span class="p">,</span><span class="n">publisher</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">all_publishers</span><span class="p">(),</span><span class="n">author</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">all_authors</span><span class="p">())</span>
</pre></div>
</div>
<p>Insert new book to the database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_new_book</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">title</span><span class="p">,</span> <span class="n">postdate</span><span class="p">,</span> <span class="n">PageNum</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">authorid</span><span class="p">,</span> <span class="n">publisherid</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO Books (Title, PostDate,PageNum,Content,AuthorID, PublisherID ) VALUES (&#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="si">{}</span><span class="s2">, &#39;</span><span class="si">{}</span><span class="s2">&#39;,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2"> );&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">postdate</span><span class="p">,</span> <span class="n">PageNum</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">authorid</span><span class="p">,</span> <span class="n">publisherid</span><span class="p">)</span>

        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>In this page i provide the admin all publishers and author to protect the website which is added the author or publisher
that is not available in the database.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">all_publishers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

<span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT Publisher.name,Publisher.PublisherID FROM Publisher;&quot;</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">publishers</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">return</span> <span class="n">publishers</span>

<span class="k">def</span> <span class="nf">all_authors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT Author.name,Author.surname,Author.AuthorID FROM Author;&quot;</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">authors</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">authors</span>
</pre></div>
</div>
<p>In HTML file i used the select and option tag.</p>
<div class="highlight-HTML notranslate"><div class="highlight"><pre><span></span>           <span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;user_time_zone&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Authorid&quot;</span><span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
{% for i in author %}
              <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{i[2] }} &quot;</span><span class="p">&gt;</span>{{i[0] }} {{i[1]}}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    {% endfor %}
            <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>

          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-lg-3 control-label&quot;</span><span class="p">&gt;</span>Publisher:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-lg-8&quot;</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ui-select&quot;</span><span class="p">&gt;</span>


            <span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;user_time_zone&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Publisherid&quot;</span><span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
{% for i in publisher %}
              <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;{{i[1]}}&quot;</span><span class="p">&gt;</span>{{i[0]}}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    {% endfor %}
            <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>

          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Search book function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
       <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT Books.Title,Books.content FROM Books,Author,Publisher  WHERE Books.PublisherID=Publisher.PublisherID AND Books.AuthorID=Author.AuthorID AND Books.Title LIKE &#39;</span><span class="si">%%%s%%</span><span class="s2">&#39; &quot;</span><span class="o">%</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">search</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

   <span class="k">return</span> <span class="n">search</span>
</pre></div>
</div>
<p>I showed some book attributes on the detail page and in detail page user can add  a comment to the book.
There is a delete book button that only seen by Admin.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Detail&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">detail_page</span><span class="p">():</span>
<span class="n">bookId</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">bookRateInfo</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">getReview</span><span class="p">(</span><span class="n">bookId</span><span class="p">)</span>
<span class="n">detailStat</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">UserId</span>
<span class="n">commentCheck</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">checkUser</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">bookId</span><span class="p">)</span>

<span class="k">if</span><span class="p">(</span><span class="n">commentCheck</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>
    <span class="n">detailStat</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ratingBtn&quot;</span> <span class="p">:</span>
        <span class="n">userWiev</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">userWiev</span><span class="p">)</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y&quot;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">insertRate</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">bookId</span><span class="p">,</span><span class="n">userWiev</span><span class="p">,</span><span class="n">today</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;detail_page&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;updateBtn&quot;</span> <span class="p">:</span>
        <span class="n">newContent</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span>
        <span class="n">db</span><span class="o">.</span><span class="n">updateBookContent</span><span class="p">(</span><span class="n">bookId</span><span class="p">,</span><span class="n">newContent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delete_book&quot;</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">delete_book</span><span class="p">(</span><span class="n">bookId</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ım here&quot;</span><span class="p">,</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;custId&quot;</span><span class="p">])</span>
        <span class="n">db</span><span class="o">.</span><span class="n">updateLike</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;custId&quot;</span><span class="p">],</span><span class="s2">&quot;like&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;detail_page&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;-1&quot;</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">updateLike</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;custId&quot;</span><span class="p">],</span><span class="s2">&quot;dislike&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;detail_page&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delete_comment&quot;</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">delete_comment</span><span class="p">(</span><span class="n">bookId</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;detail_page&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;detail_p_a&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;radiobutton&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;author&#39;</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">author_details</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">show_author_detail</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;author_detail_page&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">show_publisher_detail</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;publisher_detail_page&#39;</span><span class="p">))</span>


<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;detail.html&#39;</span><span class="p">,</span><span class="n">Status</span><span class="o">=</span><span class="n">detailStat</span><span class="p">,</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="si">%s</span><span class="s2"> Detail Page&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="p">),</span><span class="n">details</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">,</span>
                       <span class="n">name</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_name</span><span class="p">,</span><span class="n">rateInfo</span> <span class="o">=</span> <span class="n">bookRateInfo</span><span class="p">,</span><span class="n">today</span><span class="o">=</span><span class="n">today</span><span class="p">)</span>
</pre></div>
</div>
<p>Read Function in DetailPage and update bookreview:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_detail_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">book_name</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;UPDATE Books SET BookReview = BookReview+1 WHERE Books.Title=&#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">book_name</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
   <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
       <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT Author.name,Author.surname,Publisher.name,Books.PageNum,Books.content,Books.BookID FROM Books,Author,Publisher  WHERE Books.PublisherID=Publisher.PublisherID AND Books.AuthorID=Author.AuthorID AND Books.Title=&#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">book_name</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">detail</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
   <span class="k">return</span> <span class="n">detail</span>
</pre></div>
</div>
<p>Delete function in DetailPage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete_book</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bookid</span><span class="p">):</span>
   <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
       <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM BookComment WHERE BookID=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bookid</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM Books WHERE BookID=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bookid</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Update book content functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">updateBookContent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bookId</span><span class="p">,</span><span class="n">newComment</span><span class="p">):</span>
    <span class="n">info</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
       <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;UPDATE books SET content = &#39;</span><span class="si">%s</span><span class="s2">&#39; WHERE bookid = </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">newComment</span><span class="p">,</span><span class="n">bookId</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="author-table">
<h2>Author Table<a class="headerlink" href="#author-table" title="Permalink to this headline">¶</a></h2>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">Author</span><span class="p">(</span>
                  <span class="n">AuthorID</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">,</span>
                  <span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">surname</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">birthDate</span> <span class="nb">DATE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">numberOfbooks</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">country</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
                 <span class="p">);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 15%" />
<col style="width: 20%" />
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>AuthorID</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>surname</p></th>
<th class="head"><p>birthDate</p></th>
<th class="head"><p>numberOfbooks</p></th>
<th class="head"><p>country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Alex</p></td>
<td><p>Smith</p></td>
<td><p>01/02/1984</p></td>
<td><p>12</p></td>
<td><p>England</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>John</p></td>
<td><p>Purcell</p></td>
<td><p>03/16/1954</p></td>
<td><p>25</p></td>
<td><p>Scotland</p></td>
</tr>
</tbody>
</table>
<p>I implemented the 4 main database standardization skills on the tables such as Create, Read, Update and Delete.</p>
<p>I showed the author details in the author details page which is accessed with the button on the detail page.
In this page, every user can see all attributes of the authorbut only admin see the edit author button which
update contents of author table and delete author button which deletes all author information include it’s references books.</p>
<p>Author Detail Page,Add author page and edit author page:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Author_Profile&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">author_detail_page</span><span class="p">():</span>
<span class="n">nameAuthor</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">surnameAuthor</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;update_author&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;edit_author_page&quot;</span><span class="p">))</span>


<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;detail_author.html&#39;</span><span class="p">,</span><span class="n">Status</span> <span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Author Detail Page&quot;</span><span class="p">,</span><span class="n">author</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">author_details</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">nameAuthor</span><span class="p">,</span><span class="n">surname</span><span class="o">=</span><span class="n">surnameAuthor</span><span class="p">,</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/EditAuthor&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">edit_author_page</span><span class="p">():</span>
<span class="n">form</span> <span class="o">=</span> <span class="n">editAuthor</span><span class="p">()</span>
<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">validate_on_submit</span><span class="p">():</span>
        <span class="n">db</span><span class="o">.</span><span class="n">edit_author</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">form</span><span class="o">.</span><span class="n">surname</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">form</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">form</span><span class="o">.</span><span class="n">numOfBooks</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">form</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">author_details</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;cancel&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;author_detail_page&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delete_author&quot;</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">delete_author</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">author_details</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>

<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;edit_author.html&#39;</span><span class="p">,</span> <span class="n">Status</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Edit Author Page&quot;</span><span class="p">,</span><span class="n">author</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">author_details</span><span class="p">,</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Add_Author&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">add_author</span><span class="p">():</span>
<span class="n">Country</span> <span class="o">=</span> <span class="s2">&quot;Universe&quot;</span>
<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;cancel&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_author&quot;</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">surname</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;surname&quot;</span><span class="p">]</span>
        <span class="n">birthdate</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;birthdate&quot;</span><span class="p">]</span>
        <span class="n">numberofbooks</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;numberofbooks&quot;</span><span class="p">]</span>
        <span class="n">Country</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;country&quot;</span><span class="p">]</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add_new_author</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">,</span> <span class="n">numberofbooks</span><span class="p">,</span> <span class="n">Country</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>


<span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_author.html&#39;</span><span class="p">,</span> <span class="n">Status</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;New Author Page&quot;</span><span class="p">,</span><span class="n">country</span><span class="o">=</span><span class="n">Country</span><span class="p">)</span>
</pre></div>
</div>
<p>Read,create,delete and udate author functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_author_detail</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">authorName</span><span class="p">,</span><span class="n">authorSurname</span><span class="p">):</span>

    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
         <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
         <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT Author.name,Author.surname,Author.Birthdate,Author.Numberofbooks,Author.Country,Author.Authorid FROM Author,Books WHERE Author.Authorid=Books.authorid AND Author.name=&#39;</span><span class="si">%s</span><span class="s2">&#39; AND Author.Surname=&#39;</span><span class="si">%s</span><span class="s2">&#39;;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">authorName</span><span class="p">,</span><span class="n">authorSurname</span><span class="p">)</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
         <span class="n">authorDetails</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">authorDetails</span>

<span class="k">def</span> <span class="nf">edit_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">,</span> <span class="n">numberofbooks</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span><span class="n">authorid</span><span class="p">):</span>
     <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
         <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
         <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;UPDATE Author SET name=&#39;</span><span class="si">{}</span><span class="s2">&#39;,surname=&#39;</span><span class="si">{}</span><span class="s2">&#39;,birthdate=&#39;</span><span class="si">{}</span><span class="s2">&#39;,numberofbooks=</span><span class="si">{}</span><span class="s2">,country=&#39;</span><span class="si">{}</span><span class="s2">&#39; WHERE authorid=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">,</span> <span class="n">numberofbooks</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span><span class="n">authorid</span><span class="p">)</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
         <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">delete_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">authorid</span><span class="p">):</span>

    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM Author WHERE AuthorID=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">authorid</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">add_new_author</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">,</span> <span class="n">numberofbooks</span><span class="p">,</span> <span class="n">Country</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO Author (name,surname,birthdate,numberOfbooks ,country) VALUES (&#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="si">{}</span><span class="s2">,&#39;</span><span class="si">{}</span><span class="s2">&#39;);&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span> <span class="p">,</span><span class="n">surname</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">,</span> <span class="n">numberofbooks</span><span class="p">,</span> <span class="n">Country</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>I checked the inputs which is filled by users for validation to save our program and database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">editAuthor</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span>
                       <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">30</span><span class="p">)])</span>
    <span class="n">surname</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Surname&#39;</span><span class="p">,</span>
                            <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">()])</span>

    <span class="n">date</span> <span class="o">=</span> <span class="n">DateField</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span>
                          <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">required</span><span class="p">()])</span>

    <span class="n">country</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span>
                          <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">40</span><span class="p">)])</span>

    <span class="n">numOfBooks</span> <span class="o">=</span> <span class="n">IntegerField</span><span class="p">(</span><span class="s1">&#39;Num of books&#39;</span><span class="p">,</span>
                         <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">required</span><span class="p">()])</span>

    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="publisher-table">
<h2>Publisher Table<a class="headerlink" href="#publisher-table" title="Permalink to this headline">¶</a></h2>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">Publisher</span><span class="p">(</span>
                  <span class="n">PublisherID</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">,</span>
                  <span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">adress</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">numberOfbooks</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">establishmentDate</span> <span class="nb">DATE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
                  <span class="n">companyName</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>
                 <span class="p">);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 12%" />
<col style="width: 21%" />
<col style="width: 17%" />
<col style="width: 22%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PublisherID</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>adress</p></th>
<th class="head"><p>numberOfbooks</p></th>
<th class="head"><p>establishmentDate</p></th>
<th class="head"><p>companyName</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Alpha</p></td>
<td><p>Main street</p></td>
<td><p>145</p></td>
<td><p>06/11/2001</p></td>
<td><p>Mono INC.</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Betha</p></td>
<td><p>Temproray street</p></td>
<td><p>258</p></td>
<td><p>03/24/1988</p></td>
<td><p>PUDY INC.</p></td>
</tr>
</tbody>
</table>
<p>I implemented the 4 main database standardization skills on the tables such as Create, Read, Update and Delete.</p>
<p>I showed the publisher details in the publisher details page which is accessed with the button on the detail page.
On this page, every user can see all attributes of the publisher but only admin see the delete publisher button
which deletes all publisher information include it’s references books.</p>
<p>Publisher Detail Page, Add Publisher Page and Edit Publisher Page:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Publisher_Profile&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">publisher_detail_page</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;update_publisher&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">&quot;edit_publisher_page&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;detail_publisher.html&#39;</span><span class="p">,</span><span class="n">Status</span> <span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Edit Publisher Page&quot;</span><span class="p">,</span><span class="n">publisher</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">)</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/EditPublisher&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">edit_publisher_page</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">editPublisher</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">validate_on_submit</span><span class="p">():</span>
            <span class="n">db</span><span class="o">.</span><span class="n">edit_publisher</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">form</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">form</span><span class="o">.</span><span class="n">numOfBooks</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">form</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">form</span><span class="o">.</span><span class="n">companyName</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;cancel&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;publisher_detail_page&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;delete_publisher&quot;</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">delete_publisher</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;edit_publisher.html&#39;</span><span class="p">,</span> <span class="n">Status</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Edit Publisher Page&quot;</span><span class="p">,</span><span class="n">publisher</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">publisher_details</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">book_detail</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">user</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span><span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/Add_Publisher&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">add_publisher</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;cancel&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;add_publisher&quot;</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">adress</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;adress&quot;</span><span class="p">]</span>
            <span class="n">numberOfbooks</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;numberofbooks&quot;</span><span class="p">]</span>
            <span class="n">establishmentdate</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;establismentdate&quot;</span><span class="p">]</span>
            <span class="n">companyName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;companyname&quot;</span><span class="p">]</span>
            <span class="n">db</span><span class="o">.</span><span class="n">add_new_publisher</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">adress</span><span class="p">,</span><span class="n">numberOfbooks</span><span class="p">,</span> <span class="n">establishmentdate</span><span class="p">,</span> <span class="n">companyName</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;homepage&#39;</span><span class="p">))</span>


    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;add_publisher.html&#39;</span><span class="p">,</span> <span class="n">Status</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">UserId</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;New Publisher Page&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Read,create,delete and udate publisher functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_publisher_detail</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">publisherName</span><span class="p">):</span>

   <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
       <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
       <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT Publisher.adress,Publisher.numberOfbooks,Publisher.establishmentDate,Publisher.companyName,Publisher.publisherid FROM Publisher,Books WHERE Publisher.publisherid=Books.publisherid AND Publisher.name=&#39;</span><span class="si">%s</span><span class="s2">&#39; ;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">publisherName</span><span class="p">)</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
       <span class="n">publisherDetails</span><span class="o">=</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
       <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
       <span class="k">return</span> <span class="n">publisherDetails</span>

   <span class="k">def</span> <span class="nf">edit_publisher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">adress</span><span class="p">,</span><span class="n">numberOfbooks</span><span class="p">,</span> <span class="n">establishmentdate</span><span class="p">,</span> <span class="n">companyName</span><span class="p">,</span><span class="n">publisherid</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
          <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
          <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;UPDATE Publisher SET name=&#39;</span><span class="si">{}</span><span class="s2">&#39;,adress=&#39;</span><span class="si">{}</span><span class="s2">&#39;,numberofbooks=</span><span class="si">{}</span><span class="s2">,establishmentdate=&#39;</span><span class="si">{}</span><span class="s2">&#39;,companyname=&#39;</span><span class="si">{}</span><span class="s2">&#39; WHERE PublisherID=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">adress</span><span class="p">,</span><span class="n">numberOfbooks</span><span class="p">,</span> <span class="n">establishmentdate</span><span class="p">,</span> <span class="n">companyName</span><span class="p">,</span><span class="n">publisherid</span><span class="p">)</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

   <span class="k">def</span> <span class="nf">delete_publisher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">publisherid</span><span class="p">):</span>

        <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
          <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
          <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM Publisher WHERE PublisherID=</span><span class="si">{}</span><span class="s2">;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">publisherid</span><span class="p">)</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

   <span class="k">def</span> <span class="nf">add_new_publisher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">adress</span><span class="p">,</span><span class="n">numberOfbooks</span><span class="p">,</span> <span class="n">establishmentdate</span><span class="p">,</span> <span class="n">companyName</span><span class="p">):</span>
       <span class="k">with</span> <span class="n">dbapi2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
           <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
           <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO Publisher (name,adress,numberOfbooks ,establishmentDate ,companyName ) VALUES (&#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="si">{}</span><span class="s2">, &#39;</span><span class="si">{}</span><span class="s2">&#39;,&#39;</span><span class="si">{}</span><span class="s2">&#39;);&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">adress</span><span class="p">,</span><span class="n">numberOfbooks</span><span class="p">,</span> <span class="n">establishmentdate</span><span class="p">,</span> <span class="n">companyName</span><span class="p">)</span>
           <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
           <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>I implemented the sessioning in HTML file shown below:</p>
<p>I send  Userid information from server.py to the Html files for show hidden buttons which is seen by only admin.</p>
<div class="highlight-HTML notranslate"><div class="highlight"><pre><span></span>{% if user == 1 %}

<span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/Home&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>


            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;add_book&quot;</span> <span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;button is-danger&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;add_book&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;btn&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;add_book&quot;</span><span class="p">&gt;</span>Add New Book<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>


            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;add_author&quot;</span> <span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;button is-danger&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;add_author&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;btn&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;add_author&quot;</span><span class="p">&gt;</span>Add New Author<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>


            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;add_publisher&quot;</span> <span class="p">&gt;</span>

            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;button is-danger&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;add_publisher&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;btn&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;add_publisher&quot;</span><span class="p">&gt;</span>Add New Publisher<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
{% endif %}
</pre></div>
</div>
<p>I checked the inputs which is filled by users for validation to save our program and database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">editPublisher</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span>
                       <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">40</span><span class="p">)])</span>
    <span class="n">address</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Address&#39;</span><span class="p">,</span>
                            <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">()])</span>

    <span class="n">date</span> <span class="o">=</span> <span class="n">DateField</span><span class="p">(</span><span class="s1">&#39;Establishment Date&#39;</span><span class="p">,</span>
                          <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">required</span><span class="p">()])</span>

    <span class="n">companyName</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s1">&#39;Comp. Name&#39;</span><span class="p">,</span>
                          <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">(),</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">50</span><span class="p">)])</span>

    <span class="n">numOfBooks</span> <span class="o">=</span> <span class="n">IntegerField</span><span class="p">(</span><span class="s1">&#39;Num of Books&#39;</span><span class="p">,</span>
                         <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">DataRequired</span><span class="p">()])</span>

    <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="member2.html" class="btn btn-neutral float-right" title="Parts Implemented by Muhammed Emin Topuz" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ITUCSDB1928

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>